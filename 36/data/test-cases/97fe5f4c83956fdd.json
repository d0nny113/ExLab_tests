{"uid":"97fe5f4c83956fdd","name":"test_mentors_cards","fullName":"tests.test_LandingPage.TestLanding#test_mentors_cards","historyId":"fdb6945e40c82f0d14ed6a1bcf5ecb92","time":{"start":1670338319648,"stop":1670338320158,"duration":510},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: 'http://test.exlab.team/images/mentors/stanislav.png'","statusTrace":"self = <test_LandingPage.TestLanding object at 0x7ff55e5bd450>\nlanding_page = <pages.LandingPage.LandingPage object at 0x7ff55e4df610>\n\n    @allure.feature('Блоки лендинга')\n    @allure.story(\"Выпадающие страницы менторов\")\n    def test_mentors_cards(self, landing_page):  # тест не доделан, кнопка никуда не ведет!!\n        href = landing_page.base_locators.LANDING_LINK + '#'\n        mentors_card = landing_page.find_elements(*landing_page.mentors_locators.mentors_card)\n        for mentor in mentors_card:\n            button = mentor.find_element(*landing_page.mentors_locators.mentors_button)\n            landing_page.click(mentor)\n            with allure.step('При нажатии на область ментора (при закрытом спойлере) спойлер открывается'):\n                assert button.get_attribute('class').split(' ')[1] == 'gGHWQo'\n            mentor.find_element(*landing_page.mentors_locators.mentor_photo).screenshot('temp2.jpg')\n    \n            with allure.step('Фотография ментора  отображается'):\n                assert landing_page.is_element_displayed(landing_page.mentors_locators.mentor_photo)\n    \n>               allure.attach.file(mentor.find_element(*landing_page.mentors_locators.mentor_photo)\n                                   .get_attribute('src'), name='mentor_photo', attachment_type=AttachmentType.JPG)\n\ntests/test_LandingPage.py:200: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/_allure.py:203: in file\n    plugin_manager.hook.attach_file(source=source, name=name, attachment_type=attachment_type, extension=extension)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_pytest/listener.py:233: in attach_file\n    self.allure_logger.attach_file(uuid4(), source, name=name, attachment_type=attachment_type, extension=extension)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/reporter.py:160: in attach_file\n    plugin_manager.hook.report_attached_file(source=source, file_name=file_name)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/logger.py:53: in report_attached_file\n    shutil.copy2(source, destination)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/shutil.py:436: in copy2\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsrc = 'http://test.exlab.team/images/mentors/stanislav.png'\ndst = '/home/runner/work/ExLab_tests/ExLab_tests/tests/results/c0982fe6-e572-4bc4-8085-4e050407ae02-attachment.jpg'\n\n    def copyfile(src, dst, *, follow_symlinks=True):\n        \"\"\"Copy data from src to dst in the most efficient way possible.\n    \n        If follow_symlinks is not set and src is a symbolic link, a new\n        symlink will be created instead of copying the file it points to.\n    \n        \"\"\"\n        sys.audit(\"shutil.copyfile\", src, dst)\n    \n        if _samefile(src, dst):\n            raise SameFileError(\"{!r} and {!r} are the same file\".format(src, dst))\n    \n        file_size = 0\n        for i, fn in enumerate([src, dst]):\n            try:\n                st = _stat(fn)\n            except OSError:\n                # File most likely does not exist\n                pass\n            else:\n                # XXX What about other special files? (sockets, devices...)\n                if stat.S_ISFIFO(st.st_mode):\n                    fn = fn.path if isinstance(fn, os.DirEntry) else fn\n                    raise SpecialFileError(\"`%s` is a named pipe\" % fn)\n                if _WINDOWS and i == 0:\n                    file_size = st.st_size\n    \n        if not follow_symlinks and _islink(src):\n            os.symlink(os.readlink(src), dst)\n        else:\n>           with open(src, 'rb') as fsrc:\nE           FileNotFoundError: [Errno 2] No such file or directory: 'http://test.exlab.team/images/mentors/stanislav.png'\n\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/shutil.py:256: FileNotFoundError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1670338317928,"stop":1670338318661,"duration":733},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"time_delta","time":{"start":1670338318661,"stop":1670338318661,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"landing_page","time":{"start":1670338318661,"stop":1670338319647,"duration":986},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: 'http://test.exlab.team/images/mentors/stanislav.png'","statusTrace":"self = <test_LandingPage.TestLanding object at 0x7ff55e5bd450>\nlanding_page = <pages.LandingPage.LandingPage object at 0x7ff55e4df610>\n\n    @allure.feature('Блоки лендинга')\n    @allure.story(\"Выпадающие страницы менторов\")\n    def test_mentors_cards(self, landing_page):  # тест не доделан, кнопка никуда не ведет!!\n        href = landing_page.base_locators.LANDING_LINK + '#'\n        mentors_card = landing_page.find_elements(*landing_page.mentors_locators.mentors_card)\n        for mentor in mentors_card:\n            button = mentor.find_element(*landing_page.mentors_locators.mentors_button)\n            landing_page.click(mentor)\n            with allure.step('При нажатии на область ментора (при закрытом спойлере) спойлер открывается'):\n                assert button.get_attribute('class').split(' ')[1] == 'gGHWQo'\n            mentor.find_element(*landing_page.mentors_locators.mentor_photo).screenshot('temp2.jpg')\n    \n            with allure.step('Фотография ментора  отображается'):\n                assert landing_page.is_element_displayed(landing_page.mentors_locators.mentor_photo)\n    \n>               allure.attach.file(mentor.find_element(*landing_page.mentors_locators.mentor_photo)\n                                   .get_attribute('src'), name='mentor_photo', attachment_type=AttachmentType.JPG)\n\ntests/test_LandingPage.py:200: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/_allure.py:203: in file\n    plugin_manager.hook.attach_file(source=source, name=name, attachment_type=attachment_type, extension=extension)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_pytest/listener.py:233: in attach_file\n    self.allure_logger.attach_file(uuid4(), source, name=name, attachment_type=attachment_type, extension=extension)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/reporter.py:160: in attach_file\n    plugin_manager.hook.report_attached_file(source=source, file_name=file_name)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/logger.py:53: in report_attached_file\n    shutil.copy2(source, destination)\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/shutil.py:436: in copy2\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsrc = 'http://test.exlab.team/images/mentors/stanislav.png'\ndst = '/home/runner/work/ExLab_tests/ExLab_tests/tests/results/c0982fe6-e572-4bc4-8085-4e050407ae02-attachment.jpg'\n\n    def copyfile(src, dst, *, follow_symlinks=True):\n        \"\"\"Copy data from src to dst in the most efficient way possible.\n    \n        If follow_symlinks is not set and src is a symbolic link, a new\n        symlink will be created instead of copying the file it points to.\n    \n        \"\"\"\n        sys.audit(\"shutil.copyfile\", src, dst)\n    \n        if _samefile(src, dst):\n            raise SameFileError(\"{!r} and {!r} are the same file\".format(src, dst))\n    \n        file_size = 0\n        for i, fn in enumerate([src, dst]):\n            try:\n                st = _stat(fn)\n            except OSError:\n                # File most likely does not exist\n                pass\n            else:\n                # XXX What about other special files? (sockets, devices...)\n                if stat.S_ISFIFO(st.st_mode):\n                    fn = fn.path if isinstance(fn, os.DirEntry) else fn\n                    raise SpecialFileError(\"`%s` is a named pipe\" % fn)\n                if _WINDOWS and i == 0:\n                    file_size = st.st_size\n    \n        if not follow_symlinks and _islink(src):\n            os.symlink(os.readlink(src), dst)\n        else:\n>           with open(src, 'rb') as fsrc:\nE           FileNotFoundError: [Errno 2] No such file or directory: 'http://test.exlab.team/images/mentors/stanislav.png'\n\n/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/shutil.py:256: FileNotFoundError","steps":[{"name":"При нажатии на область ментора (при закрытом спойлере) спойлер открывается","time":{"start":1670338319969,"stop":1670338319989,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Фотография ментора  отображается","time":{"start":1670338320071,"stop":1670338320121,"duration":50},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: 'http://test.exlab.team/images/mentors/stanislav.png'\n","statusTrace":"  File \"/home/runner/work/ExLab_tests/ExLab_tests/tests/test_LandingPage.py\", line 200, in test_mentors_cards\n    allure.attach.file(mentor.find_element(*landing_page.mentors_locators.mentor_photo)\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 203, in file\n    plugin_manager.hook.attach_file(source=source, name=name, attachment_type=attachment_type, extension=extension)\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_hooks.py\", line 265, in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_manager.py\", line 80, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 60, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_result.py\", line 60, in get_result\n    raise ex[1].with_traceback(ex[2])\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_pytest/listener.py\", line 233, in attach_file\n    self.allure_logger.attach_file(uuid4(), source, name=name, attachment_type=attachment_type, extension=extension)\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/reporter.py\", line 160, in attach_file\n    plugin_manager.hook.report_attached_file(source=source, file_name=file_name)\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_hooks.py\", line 265, in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_manager.py\", line 80, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 60, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_result.py\", line 60, in get_result\n    raise ex[1].with_traceback(ex[2])\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/site-packages/allure_commons/logger.py\", line 53, in report_attached_file\n    shutil.copy2(source, destination)\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/shutil.py\", line 436, in copy2\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\n  File \"/opt/hostedtoolcache/Python/3.11.0/x64/lib/python3.11/shutil.py\", line 256, in copyfile\n    with open(src, 'rb') as fsrc:\n         ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"name":"mentor_photo","type":"image/jpg","size":0}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"798e344727e764c5","name":"stdout","source":"798e344727e764c5.txt","type":"text/plain","size":86}],"parameters":[],"stepsCount":2,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"time_delta::0","time":{"start":1670338320283,"stop":1670338320283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"landing_page::0","time":{"start":1670338320283,"stop":1670338320283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"browser::0","time":{"start":1670338320284,"stop":1670338320338,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"story","value":"Выпадающие страницы менторов"},{"name":"feature","value":"Блоки лендинга"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_LandingPage"},{"name":"subSuite","value":"TestLanding"},{"name":"host","value":"fv-az398-176"},{"name":"thread","value":"2276-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_LandingPage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":7},"items":[{"uid":"30a9ecc02c264fe9","reportUrl":"https://d0nny113.github.io/ExLab_tests/35//#testresult/30a9ecc02c264fe9","status":"passed","time":{"start":1670337699077,"stop":1670337705810,"duration":6733}},{"uid":"66f2ff4d747a5c7","reportUrl":"https://d0nny113.github.io/ExLab_tests/34//#testresult/66f2ff4d747a5c7","status":"passed","time":{"start":1670336958753,"stop":1670336964861,"duration":6108}},{"uid":"7111a63a21a4fc65","reportUrl":"https://d0nny113.github.io/ExLab_tests/33//#testresult/7111a63a21a4fc65","status":"passed","time":{"start":1670237764646,"stop":1670237766546,"duration":1900}},{"uid":"78226242dff228a","reportUrl":"https://d0nny113.github.io/ExLab_tests/31//#testresult/78226242dff228a","status":"passed","time":{"start":1670230409722,"stop":1670230411095,"duration":1373}},{"uid":"b51f797dc2a0e568","reportUrl":"https://d0nny113.github.io/ExLab_tests/30//#testresult/b51f797dc2a0e568","status":"passed","time":{"start":1670230176970,"stop":1670230178498,"duration":1528}},{"uid":"26d9dc5bfe98e50f","reportUrl":"https://d0nny113.github.io/ExLab_tests/29//#testresult/26d9dc5bfe98e50f","status":"passed","time":{"start":1670229591610,"stop":1670229593463,"duration":1853}}]},"tags":[]},"source":"97fe5f4c83956fdd.json","parameterValues":[]}